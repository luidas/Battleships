'use strict';

const VError = require('verror');

/**
 * Extendable Error.
 *
 * Examples:
 *     class MyError extends EError {}
 *     class CustomedError extends EError {
 *         // do something...
 *     }
 */
class EError extends VError {
    constructor(...args) {
        super(...args);
        Object.defineProperty(this, 'name', {
            value: this.constructor.name,
        });
    }
    toString() {
        const outObj = this
            .filter(i => Object.prototype.hasOwnProperty.call(this, i))
            .map(i => this[i]);
        return JSON.stringify(outObj);
    }
}

module.exports = EError;
